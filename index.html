<!-- PREMIUM HYBRID LUXURY UI (TESLA x iOS) -->
<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>FC Locator Premium</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />

<style>
    body {
        background: radial-gradient(circle at 20% 20%, #111418, #050607 70%);
        font-family: 'Inter', sans-serif;
        color: #e5e5e5;
    }

    /* Floating glass panel (bukan card persegi biasa) */
    .panel-float {
        backdrop-filter: blur(18px) saturate(160%);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 32px;
        padding: 26px;
        box-shadow: 0 20px 45px rgba(0,0,0,0.45);
    }

    /* Chip status glow premium */
    .chip-online {
        background: rgba(0,255,150,0.15);
        color: #46ffbd;
        padding: 6px 14px;
        border-radius: 50px;
        backdrop-filter: blur(4px);
        box-shadow: 0 0 14px rgba(0,255,150,0.25);
        font-size: 12px;
    }

    .chip-offline {
        background: rgba(255,60,60,0.15);
        color: #ff8f8f;
        padding: 6px 14px;
        border-radius: 50px;
        backdrop-filter: blur(4px);
        box-shadow: 0 0 14px rgba(255,60,60,0.25);
        font-size: 12px;
    }

    /* Floating station module — BUKAN PERSEGI PANJANG */
    .station-module {
        border-radius: 40px;
        padding: 24px;
        backdrop-filter: blur(22px) saturate(180%);
        background: linear-gradient(145deg, rgba(255,255,255,0.07), rgba(255,255,255,0.03));
        border: 1px solid rgba(255,255,255,0.08);
        box-shadow: 0 25px 55px rgba(0,0,0,0.55);
    }

    /* Button Premium Oval */
    .btn-oval {
        background: linear-gradient(135deg, #4dffd0, #00ffa5);
        color: #000;
        padding: 12px 24px;
        border-radius: 50px;
        font-weight: 600;
        box-shadow: 0 0 25px rgba(0,255,170,0.45);
    }
</style>
</head>
<body class="p-5 pb-32">

<!-- HEADER PREMIUM -->
<div class="mb-8 mt-3">
    <h1 class="text-4xl font-bold tracking-tight text-white">⚡ Fast Charger</h1>
    <p class="text-gray-400 text-sm mt-1">Nearest High-Speed Charging</p>
</div>

<!-- FLOATING LOCATION PANEL (Bukan persegi) -->
<div class="panel-float mb-10">
    <p class="text-gray-400 text-xs mb-2">LOKASI ANDA</p>
    <p id="locText" class="text-xl font-semibold">Mengambil lokasi...</p>
    <p id="locAcc" class="text-gray-400 text-sm">Akurasi: -</p>
</div>

<!-- LIST STATION (Floating modules) -->
<div id="stationList" class="space-y-6"></div>

<script>

const stations = [
    { name: "FC Kelapa Gading", lat: -6.15963, lng: 106.90668, power: "60 kW", nozzle: 3, price: "Gratis", open: "07:00", close: "23:00" },
    { name: "FC Cibubur", lat: -6.402484, lng: 106.936786, power: "50 kW", nozzle: 2, price: "Berbayar", open: "00:00", close: "23:59" },
    { name: "FC Bekasi", lat: -6.241586, lng: 107.000732, power: "50 kW", nozzle: 2, price: "Berbayar", open: "08:00", close: "22:00" }
];

function isOpen(open, close){
    const now = new Date();
    const cur = now.getHours()*60 + now.getMinutes();
    const o = parseInt(open.split(":" )[0]) * 60 + parseInt(open.split(":" )[1]);
    const c = parseInt(close.split(":" )[0]) * 60 + parseInt(close.split(":" )[1]);
    if(o <= c) return cur >= o && cur <= c;
    return cur >= o || cur <= c;
}

navigator.geolocation.getCurrentPosition(pos=>{
    const lat = pos.coords.latitude;
    const lng = pos.coords.longitude;

    document.getElementById("locText").innerText = `${lat.toFixed(5)}, ${lng.toFixed(5)}`;
    document.getElementById("locAcc").innerText = `Akurasi: ${pos.coords.accuracy.toFixed(0)} m`;

    renderStations(lat, lng);
});

function renderStations(ulat, ulng){
    const box = document.getElementById("stationList");
    box.innerHTML = "";

    stations.forEach(st=>{
        const dist = calcDistance(ulat, ulng, st.lat, st.lng);
        const open = isOpen(st.open, st.close);

        box.innerHTML += `
        <div class='station-module'>
            <div class="flex items-center justify-between mb-3">
                <h2 class="text-2xl font-semibold text-white">${st.name}</h2>
                <span class="${open?'chip-online':'chip-offline'}">${open?'● ONLINE':'● OFFLINE'}</span>
            </div>

            <p class="text-gray-300 mb-1 text-sm">${dist.toFixed(1)} km dari lokasi anda</p>
            <p class="text-gray-400 text-sm mb-1">${st.power} • ${st.nozzle} nozzle</p>
            <p class="text-gray-500 text-sm">${st.open} — ${st.close}</p>

            <div class="flex justify-end mt-4">
                <a href="https://maps.google.com/?q=${st.lat},${st.lng}" class="btn-oval">Navigate</a>
            </div>
        </div>`;
    });
}

function calcDistance(a,b,c,d){
    const R=6371;
    const dLat=(c-a)*Math.PI/180;
    const dLon=(d-b)*Math.PI/180;
    const A=Math.sin(dLat/2)**2+Math.cos(a*Math.PI/180)*Math.cos(c*Math.PI/180)*Math.sin(dLon/2)**2;
    return R*2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A));
}
</script>

</body>
</html>
